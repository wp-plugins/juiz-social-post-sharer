/*
Plugin Name: Juiz Social Post Sharer
Plugin URI: http://www.creativejuiz.fr/blog/wordpress/plugin-juiz-social-post-sharer-partage-contenu-reseaux-sociaux
Author: Geoffrey Crofte
*/
;jQuery(document).ready(function(a){jQuery.fn.juiz_get_counters=function(){return this.each(function(){var c=a(this).find(".juiz_sps_info_plugin_url").val(),b=a(this).find(".juiz_sps_info_permalink").val(),d=a(this).find(".juiz_sps_link_twitter"),e=a(this).find(".juiz_sps_link_linkedin"),f=a(this).find(".juiz_sps_link_delicious"),g=a(this).find(".juiz_sps_link_facebook"),h=a(this).find(".juiz_sps_link_pinterest"),k=a(this).find(".juiz_sps_link_google"),l=a(this).find(".juiz_sps_link_stumbleupon"), m="http://feeds.delicious.com/v2/json/urlinfo/data?url="+b+"&callback=?",n="http://www.linkedin.com/countserv/count/share?format=jsonp&url="+b+"&callback=?",p="http://api.pinterest.com/v1/urls/count.json?callback=?&url="+b,q="https://graph.facebook.com/fql?q=SELECT%20like_count,%20total_count,%20share_count,%20click_count,%20comment_count%20FROM%20link_stat%20WHERE%20url%20=%20%22"+b+"%22",r=c+"js/get-noapi-counts.php?nw=google&url="+b,c=c+"js/get-noapi-counts.php?nw=stumble&url="+b;d.length&&a.getJSON("http://cdn.api.twitter.com/1/urls/count.json?url="+ b+"&callback=?").done(function(a){d.prepend('<span class="juiz_sps_counter">'+a.count+"</span>")});e.length&&a.getJSON(n).done(function(a){e.prepend('<span class="juiz_sps_counter">'+a.count+"</span>")});h.length&&a.getJSON(p).done(function(a){h.prepend('<span class="juiz_sps_counter">'+a.count+"</span>")});k.length&&a.getJSON(r).done(function(a){k.prepend('<span class="juiz_sps_counter">'+a.count.replace("\u00a0","")+"</span>")});l.length&&a.getJSON(c).done(function(a){l.prepend('<span class="juiz_sps_counter">'+ a.count+"</span>")});g.length&&a.getJSON(q).done(function(a){g.prepend('<span class="juiz_sps_counter">'+a.data[0].share_count+"</span>")});f.length&&a.getJSON(m).done(function(a){f.prepend('<span class="juiz_sps_counter">'+a[0].total_posts+"</span>")})})};jQuery.fn.juiz_update_counters=function(){return this.each(function(){var c=a(this),b=c.find(".juiz_sps_totalcount"),d=b.find(".juiz_sps_t_nb"),e=b.attr("title");b.prepend('<span class="juiz_sps_total_text">'+e+"</span>");setInterval(function(){var b= 0;c.find(".juiz_sps_counter").each(function(){b+=parseInt(a(this).text())});d.text(b)},1200)})};a(".juiz_sps_links.juiz_sps_counters").juiz_get_counters();a(".juiz_sps_counters .juiz_sps_links_list").juiz_update_counters()});