jQuery(document).ready(function(t){function n(t,n,s){return"twitter"==t?"https://cdn.api.twitter.com/1/urls/count.json?url="+n+"&callback=?":"delicious"==t?"https://feeds.delicious.com/v2/json/urlinfo/data?url="+n+"&callback=?":"linkedin"==t?"https://www.linkedin.com/countserv/count/share?format=jsonp&url="+n+"&callback=?":"pinterest"==t?"https://api.pinterest.com/v1/urls/count.json?callback=?&url="+n:"facebook"==t?"https://graph.facebook.com/fql?q=SELECT%20like_count,%20total_count,%20share_count,%20click_count,%20comment_count%20FROM%20link_stat%20WHERE%20url%20=%20%22"+n+"%22":"google"==t?s+"js/get-noapi-counts.php?nw=google&url="+n:"stumble"==t?s+"js/get-noapi-counts.php?nw=stumble&url="+n:void 0}jQuery.fn.juiz_get_counters=function(){return this.each(function(){var s=t(this).find(".juiz_sps_info_plugin_url").val(),u=t(this).find(".juiz_sps_link_twitter"),e=t(this).find(".juiz_sps_link_linkedin"),i=t(this).find(".juiz_sps_link_delicious"),o=t(this).find(".juiz_sps_link_facebook"),c=t(this).find(".juiz_sps_link_pinterest"),l=t(this).find(".juiz_sps_link_google"),r=t(this).find(".juiz_sps_link_stumbleupon"),p="";if(url1=t(this).find(".juiz_sps_info_permalink").val(),url2="","http:"==url1.substring(0,5)?url2=url1.replace("http:","https:"):"https:"==url1.substring(0,6)&&(url2=url1.replace("https:","http:")),t(this).hasClass("counters_total")&&(p=" juiz_hidden_counter"),u.length){var a=0;t.when(t.getJSON(n("twitter",url1),function(t){a+=t.count}),t.getJSON(n("twitter",url2),function(t){a+=t.count})).then(function(){u.prepend('<span class="juiz_sps_counter'+p+'">'+a+"</span>")})}if(e.length){var _=0;t.when(t.getJSON(n("linkedin",url1),function(t){_+=t.count})).then(function(){e.prepend('<span class="juiz_sps_counter'+p+'">'+_+"</span>")})}if(c.length){var f=0;t.when(t.getJSON(n("pinterest",url1),function(t){f+=t.count}),t.getJSON(n("pinterest",url2),function(t){f+=t.count})).then(function(){c.prepend('<span class="juiz_sps_counter'+p+'">'+f+"</span>")})}if(l.length){var h=0;t.when(t.getJSON(n("google",url1,s),function(t){h+=parseInt(t.count)}),t.getJSON(n("google",url2,s),function(t){h+=parseInt(t.count)})).then(function(){l.prepend('<span class="juiz_sps_counter'+p+'">'+h+"</span>")})}if(r.length){var d=0;t.when(t.getJSON(n("stumble",url1,s),function(t){d+=t.count}),t.getJSON(n("stumble",url2,s),function(t){d+=t.count})).then(function(){r.prepend('<span class="juiz_sps_counter'+p+'">'+d+"</span>")})}if(o.length){var g=0;t.when(t.getJSON(n("facebook",url1),function(t){t.data.length>0&&(g+=t.data[0].total_count)}),t.getJSON(n("facebook",url2),function(t){t.data.length>0&&(g+=t.data[0].total_count)})).then(function(){o.prepend('<span class="juiz_sps_counter'+p+'">'+g+"</span>")})}if(i.length){var j=0;t.when(t.getJSON(n("delicious",url1),function(t){j+=t[0].total_posts}),t.getJSON(n("delicious",url2),function(t){j+=t[0].total_posts})).then(function(){i.prepend('<span class="juiz_sps_counter'+p+'">'+j+"</span>")})}})},jQuery.fn.juiz_update_counters=function(){return this.each(function(){function n(){var n=0;s.find(".juiz_sps_counter").each(function(){n+=parseInt(t(this).text())}),e.text(n)}var s=t(this),u=s.find(".juiz_sps_totalcount"),e=u.find(".juiz_sps_t_nb"),i=u.attr("title");u.prepend('<span class="juiz_sps_total_text">'+i+"</span>"),setInterval(n,1200)})},t(".juiz_sps_links.juiz_sps_counters").juiz_get_counters(),0==t(".juiz_sps_links.juiz_sps_counters.counters_subtotal").length&&t(".juiz_sps_counters .juiz_sps_links_list").juiz_update_counters()});
